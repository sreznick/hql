/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'buildlogic.kotlin-library-conventions'
    id 'antlr'
}

dependencies {
    implementation libs.antlr4.runtime
    implementation libs.kotlin.reflect

    antlr libs.antlr4 // use ANTLR version 4
}


generateGrammarSource {
    maxHeapSize = "64m"
    arguments += [ "-visitor",
                   "-long-messages",
                   "-package", "org.hql" ]
}

kotlin {
    sourceSets.main {
        kotlin.srcDir(generateGrammarSource.outputDirectory)
    }
}

tasks.named('compileKotlin') {
    dependsOn tasks.named('generateGrammarSource')
}

tasks.named('compileTestKotlin') {
    dependsOn tasks.named('generateTestGrammarSource')
}
